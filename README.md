# about
stex is a small linux (and POSIX?) program and library for text manipulation. Generates shared memory files on /dev/shm containing information about the cursor and a text buffer (similar to viminfo, or shada in vim and neovim respectively), modifies the memory on those files directly (no fuss about synchronizing shada from the hard-disk and buffers on RAM). This way multiple clients can edit and display the same data in the same file simultaneously and work together seamlessly.

# motivation
The program is a prototype with the sole purpose of testing out a software architecture idea. The input and output of the application would be managed by different modules working independently: managed by different processes, and potentially different programs; editing and displaying the same file with different clients would work because there is a shared file format, so the correct interpretation of data is ensured. This can be accomplished for most user-space programs with no concerns about concurrency because most operations are fast enough that they'll be finished before than the user can start another one.

I consider at least three advantages to this approach, first is flexibility: development of different modules can occur independently from each other, different teams with different goals could make their own versions of modules and have them all work together. The other two advantages apply only in the ideal scenario of a significant amount of user-space software being built in this manner. There would be consistent behavior among different applications, as the same module can be tweaked to interface with different formats, so the same input module can be used to manage user input in all applications (so, for example, configuration of the input module would apply to the file manager, the text editor, and the matrix client). Last is resource usage, instead of having different applications implement (and run, on RAM!) the same functionality for each task, a single "master" module can be used to interface with each application.

# progress
The main three files are: show.c, containing functions for displaying the file to a terminal; moda.c, containing functions for manipulating the file; and shtex.h, containing the file layout and shared memory object creation procedure. These files are implemented as separate programs in ktrl-wrapped.c and show-wrapped.c, and as a single big program in main.c.
Multibyte support is on the way, as well as a screen that follows the cursor (instead of a cursor that "escapes" the screen), also a hotkey to manually set the first position of the screen. After that I'll reorganize the code necessary for initialization of each module, so mixing the modules into different applications is more straight forward.
